<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>วัดเชียงยืน</title>
    <meta name="description" content="วัดเชียงยืน">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.5.1/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/super-hands@2.1.0/dist/super-hands.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>

    <script>
      AFRAME.registerComponent('hotspots',{
        init:function(){
            this.el.addEventListener('reloadspots',function(evt){
            
            //get the entire current spot group and scale it to 0
            var currspotgroup=document.getElementById(evt.detail.currspots);
            currspotgroup.setAttribute("scale","0 0 0");
            
            //get the entire new spot group and scale it to 1
            var newspotgroup=document.getElementById(evt.detail.newspots);
            newspotgroup.setAttribute("scale","1 1 1");
          });
        }
      });
      AFRAME.registerComponent('spot',{
        schema:{
          linkto:{type:"string",default:""},
          spotgroup:{type:"string",default:""}
        },
        init:function(){
          
          //add image source of hotspot icon
          this.el.setAttribute("src","#hotspot");
          //make the icon look at the camera all the time
          this.el.setAttribute("look-at","#cam");
          
          var data=this.data;
          
          this.el.addEventListener('click',function(){
            //set the skybox source to the new image as per the spot
            var sky=document.getElementById("skybox");
            sky.setAttribute("src",data.linkto);
            
            var spotcomp=document.getElementById("spots");
            var currspots=this.parentElement.getAttribute("id");
            //create event for spots component to change the spots data
            spotcomp.emit('reloadspots',{newspots:data.spotgroup,currspots:currspots});
          });
        }
      });
    </script>

<script>
  AFRAME.registerComponent('play-pause', {
    init: function(){
      var myVideo = document.querySelector('#surfer');
      var videoControls = document.querySelector('#videoControls');
      this.el.addEventListener('click',function(){
        if(myVideo.paused){
          myVideo.play();
          videoControls.setAttribute('visible', '#pause');
        }else{
          myVideo.pause();
          videoControls.setAttribute('visible', '#play');
        }
      });
    }
  });
</script>

<script>  
AFRAME.registerComponent("anim-controller", {
  
  init: function(){
      var anima = document.querySelector('#Animatutorial');
      setTimeout(() => {this.el.setAttribute('visible', '#true')}, 4000)
      this.el.addEventListener('click',function(){
        if(myVideo.paused){
          myVideo.play();
          videoControls.setAttribute('visible', '#pause');
        }
      
      }); 
    }
  });
</script>


  </head>
  <body>
    <a-scene background="color: #ECECEC" cursor="rayOrigin:mouse">
      <a-assets>
       <img id="point1" src="assets/Chiangyeun-05.jpg"/> 
        <img id="point2" src="assets/Chiangyeun-05(1).jpg"/> 
        <img id="point3" src="assets/Chiangyeun-01.jpg"/>
        <img id="point4" src="assets/Chiangyeun-02.jpg"/>


        <img id="play" src="assets/play_icon.png">
        <img id="pause" src="assets/pause_icon.png">

          
        <img id="hotspot" src="https://cdn.glitch.com/2087dfa6-bd02-4451-a189-36095a66f386%2Fup-arrow.png?1545397127546"/>
      </a-assets>
      
      <a-entity id="spots" hotspots>
        <a-entity id="group-point1" >
          <a-image spot="linkto:#point2;spotgroup:group-point2" position="8 0 -4" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000;"></a-image>
          <a-image spot="linkto:#point3;spotgroup:group-point3" position="8 0 5" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000;"></a-image>

             <a-image src="assets/icon_imge.png" position="2 2.75 -0.80" rotation="0 100 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText2; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText2; visible: false" >
            <a-image id="cylinderText2" src="assets/1.jpg" position="-1.50 0.5 1" width="23" height="2" 
            geometry="primitive: plane; width: 3" material="color: #FFF" visible="false" ></a-image>
              </a-image>

                <a-image src="assets/icon_imge.png" position="2 1.50 -1.40" rotation="0 100 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText3; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText3; visible: false" >
            <a-image id="cylinderText3" src="assets/3.jpg" position="-2 0.5 1" width="4" height="2" 
            geometry="primitive: plane; width: 3" material="color: #FFF" visible="false" ></a-image>
              </a-image>

               <a-image src="assets/icon_imge.png" position="2 2 -0.90" rotation="0 100 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText8; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText8; visible: false" >
            <a-image id="cylinderText8" src="assets/9.jpg" position="-1.50 0.5 1" width="2" height="3" 
            geometry="primitive: plane; width: 2" material="color: #FFF" visible="false" ></a-image>
              </a-image>

        </a-entity>


        <a-entity id="group-point2" scale="0 0 0">

          <a-image spot="linkto:#point1;spotgroup:group-point1" position="-9 0 1.5" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000;"></a-image>
             <a-image src="assets/icon_imge.png" position="2 1.50 -0.24" rotation="0 100 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText1; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText1; visible: false" >
            <a-image id="cylinderText1" src="assets/2.jpg" position="-0.25 1.25 1.05" width="3" height="2"
            geometry="primitive: plane; width: 3" material="color: #FFF" visible="false" ></a-image>
          </a-image>


        </a-entity>

        <a-entity id="group-point3" scale="0 0 0">
          <a-image spot="linkto:#point1;spotgroup:group-point1" position="-4 0 -8" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000;"></a-image>
          <a-image spot="linkto:#point4;spotgroup:group-point4" position="-10 0 -2" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000;"></a-image>

             <a-image src="assets/icon_imge.png" position="-2.50 3.50 0.29" rotation="0 100 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText4; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText4; visible: false" >
            <a-image id="cylinderText4" src="assets/5.jpg" position="2.31 0.50 -1.29" width="4" height="3" 
            geometry="primitive: plane; width: 4" material="color: #FFF" visible="false" ></a-image>
          </a-image>


             <a-image src="assets/icon_imge.png" position="-2.50 2.50 0.29" rotation="0 100 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText5; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText5; visible: false" >
            <a-image id="cylinderText5" src="assets/6.jpg" position="2.31 0.50 -1.29" width="4" height="3" 
            geometry="primitive: plane; width: 4" material="color: #FFF" visible="false" ></a-image>
          </a-image>

             <a-image src="assets/icon_imge.png" position="-2.50 1.50 0.29" rotation="0 100 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText6; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText6; visible: false" >
            <a-image id="cylinderText6" src="assets/7.jpg" position="2.31 1.25 -1.29" width="4" height="3" 
            geometry="primitive: plane; width: 4" material="color: #FFF" visible="false" ></a-image>
          </a-image>

        </a-entity>


        <a-entity id="group-point4" scale="0 0 0">

          <a-image spot="linkto:#point3;spotgroup:group-point3" position="-5 0 2.5" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000;"></a-image>

             <a-image src="assets/icon_imge.png" position="-0.75 1.25 -0.80" rotation="0 50 0" width="0.20" height="0.20" 
            event-set__enter="_event: mousedown; _target: #cylinderText7; visible: true"
            event-set__leave="_event: mouseleave; _target: #cylinderText7; visible: false" >
            <a-image id="cylinderText7" src="assets/8.jpg" position="2.10 0.25 -1.29" width="3" height="2" 
            geometry="primitive: plane; width: 3" material="color: #FFF" visible="false" ></a-image>
          </a-image>

        </a-entity>


        </a-entity>

      </a-entity>
      
      <a-sky id="skybox" src="#point1"></a-sky>
      

      <a-camera position="0 0 0" rotation= "20 290 0"> 
        <a-sound src="url(assets/sound.mp3)" autoplay="true"
                 position="0 0 0" loop="true" volume="0.5"></a-sound>


    </a-camera>



    </a-scene>
  </body>
</html>